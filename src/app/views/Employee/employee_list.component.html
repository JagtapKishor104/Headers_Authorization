<div>
  <!-- Accordian As Employee List -->

  <!-- <ngx-spinner size="medium" type="timer" color="#FFFF00"></ngx-spinner> -->
  <nav class="navbar navbar-expand-lg navbar-light">
    <div class="container">
      <a class="navbar-brand text-white" href="#">Employee Details</a>

      <div>
        <ul class="navbar-nav ms-auto  g-0">
          <button class="btn btn-primary mt-1" type="button" data-bs-toggle="modal" (click)="showbtn()"
            data-bs-target="#exampleModal">Add Employee</button>
        </ul>
      </div>
    </div>
  </nav>

  <div class=" d-flex justify-content-between align-items-center">
    <div class="my-2">
      Show
      <select (change)="
    onTableSizeChange($event)" class="px-3">
        <option *ngFor="let size of tableSizes" [ngValue]="size">
          {{ size }}
        </option>
      </select>
      entries
    </div>
    <div class="  form-group my-2">
      <input type="search" class="form-control" [(ngModel)]="emp_id" placeholder="Search Employee ID">
    </div>
  </div>
  <div class="table-responsive overflow-scroll ">
    <table class="table  mt-2  text-center table-hover table-striped ">
      <thead class="text-uppercase">
        <tr>
          <th class="col">Emp ID</th>
          <th>Photo</th>
          <th class="col">Full name</th>

          <th class="col">gender</th>
          <th class="col">address</th>
          <th class="col">mobile</th>
          <th class="col">joining date</th>
          <th class="col">status</th>
          <th class="d-none col">Password</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let d of Employee_List | searchEmployee:emp_id | paginate:{itemsPerPage: tableSize,currentPage: page,totalItems: count} ; let i = index"
          [class.active]="i == currentIndex">
          <td scope="row">{{d.emp_id}}</td>
          <td> <img src={{d.photo}} alt="" srcset="" height="100" width="100"></td>
          <td>{{d.first_name}} {{d.last_name}}</td>
          <td>{{d.gender}}</td>
          <td>{{d.address}}</td>
          <td>{{d.mobile}}</td>
          <td>{{d.joining_date}}</td>
          <td *ngIf="d.status==1;else elseblock">
            <button class="btn btn-sm btn-outline-primary mt-1" type="button" (click)="statussubmit(d)">Enable</button>
          </td>
          <ng-template #elseblock>
            <td>
              <button class="btn btn-sm btn-outline-danger mt-1" type="button" (click)="statussubmit(d)">
                disabled</button>
            </td>
          </ng-template>

          <td class="d-none">{{d.emp_password}}</td>
          <td>
            <div class="d-flex justify-content-evenly">
              <button class="btn btn-sm btn-outline-primary me-3" (click)="editdata(d.emp_id)" data-bs-toggle="modal"
                data-bs-target="#exampleModal">Edit</button>
              <button class="btn btn-sm btn-outline-danger" (click)="delete(d.emp_id)">Delete</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>


    <div class="d-flex  justify-content-between">
      <div>
        <pagination-controls previousLabel="Prev" nextLabel="Next" (pageChange)="onTableDataChange($event)">
        </pagination-controls>
      </div>
    </div>

  </div>

  <!-- Modal -->
  <div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="exampleModal" tabindex="-1"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add Employee Details</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form [formGroup]="myform" enctype="multipart/form-data">
            <h3 class="text-center">Enrollment Form</h3>
            <div class="row">
              <div class="col-md-6 border border-primary">
                <div class="row g-2">
                  <div class="col-md-6">
                    <label class="form-label"> Location</label>
                    <ng-select [items]="city" bindLabel="city" bindValue="id" placeholder="City Name"
                      formControlName="city_id">
                    </ng-select>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Designation</label>
                    <select class="form-select" formControlName="designation" aria-label="Default select example">
                      <option selected disabled>Select Designation</option>
                      <option value="Executive Assistant">Executive Assistant</option>
                      <option value="programmer">programmer</option>
                      <option value="Permanent position">Permanent position</option>
                      <option value="Internship Period">Internship Period</option>
                      <option value="manager">manager</option>
                      <option value="Developer">Developer</option>
                    </select>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Date Of joining</label>
                    <input type="date" class="form-control" formControlName="joining_date">
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">company Name</label>
                    <ng-select [items]="company" bindLabel="name" bindValue="id" placeholder="company Name"
                      formControlName="company_id">
                    </ng-select>
                  </div>

                  <div class="col-md-6">
                    <label class="form-label">Emp Type</label>
                    <ng-select [items]="emp_type_list" bindLabel="name" bindValue="id" placeholder="Employee Name"
                      formControlName="emp_type_id">
                    </ng-select>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">SuperVisor Name</label>
                    <ng-select [items]="supervisor" bindLabel="name" bindValue="id"
                      placeholder="company Name" formControlName="supervisor_id">
                    </ng-select>
                  </div>
                  <div class="col-md-12">
                    <label for="" class="form-label">Gender</label>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input ms-2" type="radio" value="male" name="gender"
                        id="flexRadioDefault1" formControlName="gender">
                      <label class="form-check-label" for="flexRadioDefault1">
                        Male
                      </label>
                    </div>

                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" value="female" name="gender" id="flexRadioDefault2"
                        formControlName="gender">
                      <label class="form-check-label" for="flexRadioDefault2">
                        Female
                      </label>
                    </div>
                  </div>
                  <h5 class="text-center">Personal Details</h5>
                  <div class="col-md-6">
                    <label for="" class="">First Name</label>
                    <input type="text" class="form-control" formControlName="first_name">
                  </div>
                  <div class="col-md-6">
                    <label for="" class="">Last Name</label>
                    <input type="text" class="form-control" formControlName="last_name">
                  </div>
                  <div class="col-md-12">
                    <label for="" class="form-label">Date Of Birth</label>
                    <input type="date" class="form-control" formControlName="dob">
                  </div>
                  <div class="col-md-6">
                    <label for="" class="form-label">Age</label>
                    <input type="text" class="form-control" formControlName="age">
                  </div>
                  <div class="col-md-6">
                    <label for="" class="form-label">Place Of Birth</label>
                    <input type="text" class="form-control" formControlName="birth_place">
                  </div>
                  <div class="col-md-12">
                    <label for="" class="form-label">Permanent Address With Pin Code</label>
                    <textarea class="form-control" cols="3" placeholder="Address With Pin Code"
                      formControlName="address"></textarea>
                  </div>
                  <div class="col-md-12">
                    <label for="" class="form-label">Temprary Address With Pin Code</label>
                    <textarea class="form-control" cols="3" placeholder="Address With Pin Code"
                      formControlName="temp_address"></textarea>
                  </div>
                  <div class="col-md-6">
                    <label for="" class="form-label">Mobile Number</label>
                    <input type="tel" class="form-control" formControlName="mobile">
                  </div>
                  <div class="col-md-6">
                    <label for="" class="form-label">Emergrncy Contact Number</label>
                    <input type="tel" class="form-control" formControlName="emergency_contact_num">
                  </div>
                  <div class="col-md-6">
                    <label for="" class="form-label">PAN Card Number</label>
                    <input type="tel" class="form-control" formControlName="pan_number">
                  </div>
                  <div class="col-md-6">
                    <label for="" class="form-label">Aadhar Card Number</label>
                    <input type="tel" class="form-control" formControlName="adhar_number">
                  </div>
                  <div class="col-md-12">
                    <label for="">Blood Group</label>
                    <select class="form-select" formControlName="blood_group">
                      <option value="A">A</option>
                      <option value="B">B</option>
                      <option value="A+">A+</option>
                      <option value="B+">B+</option>
                      <option value="O">O</option>
                    </select>
                  </div>
                  <h5>Identification/Birth Mark</h5>
                  <div class="col-md-6">
                    <input type="text" class="form-control" formControlName="birth_mark1">
                  </div>
                  <div class="col-md-6">
                    <input type="text" class="form-control" formControlName="birth_mark2">
                  </div>
                  <div class="col-md-12">
                    <label for="" class="form-label">Marital Status</label>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input ms-2" type="radio" value="1" name="marital_status"
                        id="flexRadioDefault1" formControlName="marital_status">
                      <label class="form-check-label" for="flexRadioDefault1">
                        Married
                      </label>
                    </div>

                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" value="0" name="marital_status"
                        id="flexRadioDefault2" formControlName="marital_status">
                      <label class="form-check-label" for="flexRadioDefault2">
                        UnMarried
                      </label>
                    </div>
                  </div>
                  <div class="col-md-12">
                    <label for="" class="form-label">Fathers Full Name</label>
                    <input type="text" class="form-control" formControlName="father_name">
                  </div>
                  <div class="col-md-12">
                    <label for="" class="form-label">Mothers Full Name</label>
                    <input type="text" class="form-control" formControlName="mother_name">
                  </div>


                </div>
              </div>
              <div class="col-md-6 border border-warning">
                <div class="row g-2">
                  <h5 class="text-center">If married, Details of spouse </h5>
                  <div class="col-md-6">
                    <label for="" class="form-label">Name</label>
                    <input type="text" class="form-control" formControlName="spouse_name">
                  </div>
                  <div class="col-md-6">
                    <label for="" class="form-label">Date Of Birth</label>
                    <input type="date" class="form-control" formControlName="spouse_dob">
                  </div>
                  <div class="col-md-12">
                    <label for="" class="form-label">Aadhar Number</label>
                    <input type="number" class="form-control" formControlName="spouse_aadhar">
                  </div>
                  <div class="col-md-12">
                    <div class="table-responsive">
                      <table class="table table-hover table-bordered table-striped" (change)="CheckBox($event)">
                        <thead>
                          <tr>
                            <th scope="col">Language</th>
                            <th scope="col">Speak</th>
                            <th scope="col">Write</th>
                            <th scope="col">Read</th>
                          </tr>
                        </thead>
                        <tbody class="text-center">
                          <tr>
                            <th>Marathi</th>
                            <td><input value="marathi_speak" type="checkbox"></td>
                            <td><input value="marathi_write" type="checkbox"></td>
                            <td><input value="marathi_read" type="checkbox"></td>
                          </tr>
                          <tr>
                            <th>Hindi</th>
                            <td><input value="hindi_speak" type="checkbox"></td>
                            <td><input value="hindi_write" type="checkbox"></td>
                            <td><input value="hindi_read" type="checkbox"></td>
                          </tr>
                          <tr>
                            <th>English</th>
                            <td><input value="english_speak" type="checkbox"></td>
                            <td><input value="english_write" type="checkbox"></td>
                            <td><input value="english_read" type="checkbox"></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div>
                    <h5>Details of Family with Birth Date </h5>
                    <div class="table-responsive">
                      <table class="table table-hover table-striped table-bordered">
                        <thead>
                          <tr>
                            <th>Action</th>
                            <th>Name</th>
                            <th>Aadhar No.</th>
                            <th>Date Of Birth</th>
                            <th>Age</th>
                            <th>Sex</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let field of dynamicArray; let i=index">
                            <td>
                              <button class="btn btn-sm btn-danger" (click)="deleteRow(i);">Delete</button>
                            </td>
                            <td><input type="text" [(ngModel)]="dynamicArray[i].family_name"
                                [ngModelOptions]="{standalone: true}"></td>
                            <td><input type="number" [(ngModel)]="dynamicArray[i].family_aadhar_no"
                                [ngModelOptions]="{standalone: true}"></td>
                            <td><input type="date" [(ngModel)]="dynamicArray[i].family_dob"
                                [ngModelOptions]="{standalone: true}"></td>
                            <td><input type="number" [(ngModel)]="dynamicArray[i].family_age"
                                [ngModelOptions]="{standalone: true}"></td>
                            <td><input type="text" [(ngModel)]="dynamicArray[i].family_sex"
                                [ngModelOptions]="{standalone: true}"></td>
                          </tr>
                          <tr>
                            <td>
                              <button class="btn btn-sm btn-primary" (click)="addRow()">ADD</button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                  </div>
                  <div class="col-md-12">
                    <label for="" class="form-label">Name of Nominee (as per Aadhar)</label>
                    <input type="text" name="" class="form-control" id="" formControlName="nominee_name">

                  </div>
                  <div class="col-md-6">
                    <label for="" class="form-label">Birth Date</label>
                    <input type="date" name="" class="form-control" id="" formControlName="nominee_dob">
                  </div>
                  <div class="col-md-6">
                    <label for="" class="form-label">Relation</label>
                    <input type="text" name="" class="form-control" id="" formControlName="nominee_relation">
                  </div>
                  <h5 class="text-center">Details of previous employment if any</h5>
                  <div class="col-md-6">
                    <label class="form-label" for="">Name Of Organisation</label>
                    <input type="text" class="form-control" formControlName="pre_org_name">
                  </div>
                  <div class="col-md-6">
                    <label class="form-label" for=""> Previous employment date of Joining </label>
                    <input type="date" class="form-control" formControlName="pre_doj">
                  </div>
                  <div class="col-md-6">
                    <label class="form-label" for=""> Previous PF No</label>
                    <input type="text" class="form-control" formControlName="pre_pf_no">
                  </div>
                  <div class="col-md-6">
                    <label class="form-label" for=""> UAN No</label>
                    <input type="text" class="form-control" formControlName="pre_uan_no">
                  </div>
                  <div class="col-md-12">
                    <label class="form-label" for=""> Previous PF Withdrawal claim settled </label>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input ms-2" type="radio" value="Yes" name="pre_settled"
                        id="flexRadioDefault1" formControlName="pre_settled">
                      <label class="form-check-label" for="flexRadioDefault1">
                        Yes
                      </label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input ms-2" type="radio" value="No" name="pre_settled"
                        id="flexRadioDefault1" formControlName="pre_settled">
                      <label class="form-check-label" for="flexRadioDefault1">
                        No
                      </label>
                    </div>
                  </div>
                  <h5 class="text-center">Bank Details</h5>
                  <div class="col-md-12">
                    <label class="form-label" for="">Bank Branch</label>
                    <input type="text" class="form-control" formControlName="bank_branch">
                  </div>
                  <div class="col-md-12">
                    <label class="form-label" for=""> Bank Account No</label>
                    <input type="number" class="form-control" formControlName="bank_account">
                  </div>
                  <div class="col-md-12">
                    <label class="form-label" for="">Name of Bank with Address </label>
                    <input type="text" class="form-control" formControlName="bank_address">
                  </div>
                  <div class="col-md-12">
                    <label class="form-label" for="">IFSC Code </label>
                    <input type="text" class="form-control" formControlName="bank_ifsc">
                  </div>

                </div>
              </div>
            </div>

            <!-- <div class="row">
                <label class="col-md-1 form-label col-form-label-md col-form-label-sm">Location</label>
                <div class="col-md-10 col-sm-10">
                  <input type="text" class="form-control">
                </div>
              </div>
              <div class="row">
                <label class="col-md-1 col-form-label-md form-label">Designation</label>
                <div class="col-md-10">
                  <input type="text" class="form-control">
                </div>
              </div> -->

            <!-- <div class="col-md-4 ">
                <label class="form-label">company Name</label>
                <ng-select [items]="company" bindLabel="name" bindValue="id" placeholder="company Name"
                  formControlName="company_id">
                </ng-select>
              </div>
              <div class="col-md-4 ">
                <label class="form-label">City Name</label>
                <ng-select [items]="city" bindLabel="city" bindValue="id" placeholder="City Name"
                  formControlName="city_id">
                </ng-select>
              </div>
              <div class="col-md-4 ">
                <label class="form-label">SuperVisor Name</label>
                <ng-select [items]="supervisor" bindLabel="fullname" bindValue="supervisor_id"
                  placeholder="company Name" formControlName="supervisor_id">
                </ng-select>
              </div>
              <div class="col-md-4 ">
                <label class="form-label">joining_date</label>
                <input type="date" class="form-control" formControlName="joining_date" />
              </div>
              <div class="col-md-4 ">
                <label class="form-label">first_name</label>
                <input type="text" class="form-control" formControlName="first_name" />
              </div>
              <div class="col-md-4 ">
                <label class="form-label">last_name</label>
                <input type="text" class="form-control" formControlName="last_name" />
              </div>
              <div class="col-md-4 pt-4">
                <label class="form-label me-2">Gender </label>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="gender" value="male" formControlName="gender">
                  <label class="form-check-label" for="inlineRadio1">Male</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="gender" value="female" formControlName="gender">
                  <label class="form-check-label" for="inlineRadio2">Female</label>
                </div>
              </div>
              <div class="col-md-4 ">
                <label class="form-label">mobile</label>
                <input type="number" class="form-control" formControlName="mobile" />
              </div>
              <div class="col-md-4 ">
                <label class="form-label">Emp Type</label>
                <ng-select [items]="emp_type_list" bindLabel="name" bindValue="id" placeholder="Employee Name"
                  formControlName="emp_type_id">
                </ng-select>
              </div>
              <div class="col-md-4 ">
                <label class="form-label">Designation</label>
                <select class="form-select" formControlName="designation" aria-label="Default select example">
                  <option selected disabled>Select Designation</option>
                  <option value="Executive Assistant">Executive Assistant</option>
                  <option value="programmer">programmer</option>
                  <option value="Permanent position">Permanent position</option>
                  <option value="Internship Period">Internship Period</option>
                  <option value="manager">manager</option>
                  <option value="Developer">Developer</option>
                </select>
              </div> -->
            <!-- <div class="col-md-4 pt-4" *ngIf="!showstatus">
                <label class="form-label me-2">status</label>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="status" value="1" formControlName="status">
                  <label class="form-check-label" for="inlineRadio1">Enable</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="status" value="0" formControlName="status">
                  <label class="form-check-label" for="inlineRadio2">Disable</label>
                </div>
              </div> -->
            <!-- <div class="col-md-4 " *ngIf="!showstatus"> 
                <label class="form-label">Password</label>
                <input type="password" class="form-control" formControlName="emp_password" />
              </div> -->
            <!-- <div class="col-md-8">
                <label class="form-label">address</label>
                <textarea type="text" class="form-control" formControlName="address" rows="3"></textarea>
              </div>
              <div class="col-md-12">
                <label class="form-label">Image</label>
                <input #myInput type="file" accept="image/*" class="form-control" (change)="onFileChanged($event)">
                <div class="text-center ">
                  <img class="img-thumbnail mt-3"
                    [src]="( imageSrc || photo || cover) || 'https://i.pinimg.com/736x/8b/16/7a/8b167af653c2399dd93b952a48740620.jpg'"
                    alt="your image" srcset="" height="200" width="200" />
                </div>
              </div> -->


          </form>
        </div>
        <div class="modal-footer">
          <button type="button" id="cancel" class="btn btn-secondary" data-bs-dismiss="modal">
            Close
          </button>
          <button type="button" *ngIf="addbtn" class="btn btn-primary" (click)=" submit()">
            Save changes
          </button>
          <button type="button" *ngIf="updatebtn" class="btn btn-warning" (click)="update()">Update Changes</button>
        </div>
      </div>
    </div>
  </div>
</div>